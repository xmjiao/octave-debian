Description: Fix infinite loop of mkoctfile -M on platforms where char is unsigned
Author: Edmund Grimley Evans <edmund.grimley.evans@gmail.com>
Bug: https://savannah.gnu.org/bugs/index.php?43640
Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=770192
Reviewed-by: SÃ©bastien Villemot <sebastien@debian.org>
Last-Update: 2014-12-01
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
--- a/src/mkoctfile.in.cc
+++ b/src/mkoctfile.in.cc
@@ -70,11 +70,11 @@ get_line (FILE *fp)
 {
   static std::vector<char> buf (100);
   unsigned int idx = 0;
-  char c;
+  int c;
 
   while (true)
     {
-      c = static_cast<char> (gnulib::fgetc (fp));
+      c = gnulib::fgetc (fp);
       if (c == '\n' || c == EOF)
         break;
       if (buf.size () <= idx)
